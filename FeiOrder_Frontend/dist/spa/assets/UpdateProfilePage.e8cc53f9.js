import{Q as g}from"./QImg.1adcfd5b.js";import{_ as S,I as P,H as w,r as l,p as C,A as d,B as f,C as r,D as t,aq as h,an as v,b3 as B,L as u,M as E,Q as b,ah as _,G as L,au as y,at as Q,K as N,E as R,b4 as M,b5 as j}from"./index.8d0d3872.js";import{Q as z}from"./QFile.20cf29ac.js";import{Q as A}from"./QForm.8f6a78c6.js";import{Q as D}from"./QPage.5a23c273.js";import{Q as F}from"./QLayout.66838c75.js";import{_ as $}from"./defaultBanner.9de387f5.js";import"./QChip.5b94b3ab.js";import"./format.2a3572e1.js";import"./QScrollObserver.54b3ac61.js";const I=n=>(M("data-v-2ae9c43f"),n=n(),j(),n),q=["src"],G={class:"col"},H=I(()=>_("label",{class:"form-label"},"Username:",-1)),K=I(()=>_("label",{class:"form-label"},"Nombre:",-1)),O={__name:"UpdateProfilePage",setup(n){const U=P(),e=w(),i=l(""),m=l(""),V=async()=>{if(e.user==null)try{await e.getInfoUser()}catch(s){s.error&&alertError(s.error),s.errors&&alertError(s.errors[0].msg)}m.value=e.user.name,i.value=e.user.username};C(()=>{V()});const c=l(""),p=l("");l(null);const k=async()=>{try{e.updateUser(e.user.id,m,i),c.value&&e.updateImage(p),U.push("/Profile")}catch{console.log(error.code)}},x=()=>{c.value=URL.createObjectURL(p.value)};return(s,a)=>(d(),f(F,{class:"home"},{default:r(()=>[t(D,{padding:""},{default:r(()=>[t(h,{dark:"",class:"card"},{default:r(()=>[t(g,{src:$}),t(v,null,{default:r(()=>[t(B,{size:"120px","font-size":"52px",fab:"",color:"primary",class:"absolute",style:{top:"0",right:"12px",transform:"translate(-170%, -50%)"}},{default:r(()=>[u(e).user&&u(e).user.image?(d(),E("img",{key:0,src:u(e).user.image},null,8,q)):(d(),f(b,{key:1,name:"person"}))]),_:1})]),_:1}),u(e).user?(d(),f(v,{key:0,class:"col no-wrap items-center"},{default:r(()=>[_("div",G,"Correo: "+L(u(e).user.email),1),t(A,{class:"col",onSubmit:a[5]||(a[5]=y(o=>k(),["prevent"]))},{default:r(()=>[H,t(Q,{class:"form-input input-update",dark:"",outlined:"",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=o=>i.value=o),type:"text"},null,8,["modelValue"]),K,t(Q,{class:"form-input input-update",dark:"",outlined:"",modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=o=>m.value=o),type:"text"},null,8,["modelValue"]),t(z,{outlined:"",class:"input-image","label-color":"white",accept:".jpg, image/*",modelValue:p.value,"onUpdate:modelValue":[a[3]||(a[3]=o=>p.value=o),a[4]||(a[4]=o=>x())],label:"Ingrese su foto de perfil"},{prepend:r(()=>[t(b,{name:"cloud_upload",color:"white",onClick:a[2]||(a[2]=y(()=>{},["stop","prevent"]))})]),_:1},8,["modelValue"]),t(g,{class:"image-from-input",src:c.value},null,8,["src"]),t(N,{class:"form-submit-update",label:"Editar",type:"submit",color:"primary"})]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1})]),_:1}))}};var oe=S(O,[["__scopeId","data-v-2ae9c43f"]]);export{oe as default};
