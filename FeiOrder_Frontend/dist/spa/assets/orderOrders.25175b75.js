import{h as Y,c as j,o as M,T as P,H as J,av as W,r as L,p as X,A as _,M as I,B as w,C as t,D as e,b3 as Q,ah as n,F as p,G as s,ao as O,an as T,K as k,ap as q,s as S,bh as A,O as D,N,b2 as H,aq as V,E as F}from"./index.8d0d3872.js";import{b as E,Q as v,a as x}from"./QItem.6fd5120e.js";import{Q as U}from"./QList.2731edc5.js";import{u as Z}from"./use-quasar.11bce999.js";const ee=Y("div",{class:"q-space"});var K=j({name:"QSpace",setup(){return()=>ee}}),R=j({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(o,{slots:C,emit:$}){let g=!1,y,i,m,d,u,f;function r(){y&&y(),y=null,g=!1,clearTimeout(m),clearTimeout(d),i!==void 0&&i.removeEventListener("transitionend",u),u=null}function l(a,c,b){a.style.overflowY="hidden",c!==void 0&&(a.style.height=`${c}px`),a.style.transition=`height ${o.duration}ms cubic-bezier(.25, .8, .50, 1)`,g=!0,y=b}function B(a,c){a.style.overflowY=null,a.style.height=null,a.style.transition=null,r(),c!==f&&$(c)}function z(a,c){let b=0;i=a,g===!0?(r(),b=a.offsetHeight===a.scrollHeight?0:void 0):f="hide",l(a,b,c),m=setTimeout(()=>{a.style.height=`${a.scrollHeight}px`,u=h=>{(Object(h)!==h||h.target===a)&&B(a,"show")},a.addEventListener("transitionend",u),d=setTimeout(u,o.duration*1.1)},100)}function G(a,c){let b;i=a,g===!0?r():(f="show",b=a.scrollHeight),l(a,b,c),m=setTimeout(()=>{a.style.height=0,u=h=>{(Object(h)!==h||h.target===a)&&B(a,"hide")},a.addEventListener("transitionend",u),d=setTimeout(u,o.duration*1.1)},100)}return M(()=>{g===!0&&r()}),()=>Y(P,{css:!1,appear:o.appear,onEnter:z,onLeave:G},C.default)}});const te={class:"q-pa-md row items-start q-gutter-md"},ae=["src"],oe={class:"text-h5"},se={class:"text-subtitle4"},le={class:"text-subtitle4"},re={class:"text-subtitle4"},ne=["src"],ie=["src"],de={class:"text-h5"},ue={class:"text-subtitle4"},ce={class:"text-subtitle4"},me={class:"text-subtitle4"},fe={class:"text-subtitle4"},ve=["src"],ye={__name:"orderOrders",props:{order:{},isAdmin:Boolean},setup(o){const C=o,$=Z(),g=J(),y=W(),i=L(),m=f=>{$.dialog({title:"Confirmaci\xF3n",message:"\xBFEstas seguro que quieres actualizar la orden?",cancel:!0,persistent:!0}).onOk(()=>{y.updateOrder(C.order._id,f)})},d=L(!1),u=async()=>{const f=C.order.userID;i.value=await g.getInfoUserById(f)};return X(()=>{u()}),(f,r)=>(_(),I("div",te,[i.value&&o.isAdmin?(_(),w(V,{key:0,class:"my-card",flat:"",bordered:""},{default:t(()=>[e(T,null,{default:t(()=>[e(E,null,{default:t(()=>[e(v,{avatar:""},{default:t(()=>[e(Q,{color:"primary","text-color":"white"},{default:t(()=>[n("img",{src:i.value.image},null,8,ae)]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(x,null,{default:t(()=>[p(s(i.value.username),1)]),_:1})]),_:1})]),_:1}),e(O,{inset:""}),n("div",oe,s(o.order.date.substring(11,19))+" - "+s(o.order.date.substring(0,10)),1),n("div",se,s()+" Tiempo estimado: "+s(o.order.stimatedTime)+" minutos ",1),n("div",le,"Costo total: $"+s(o.order.totalCost),1),n("div",re,s(o.order.comment),1)]),_:1}),e(q,null,{default:t(()=>[e(k,{onClick:r[0]||(r[0]=l=>m("COOKING")),flat:"",color:"primary",icon:"mdi-chef-hat"}),e(k,{onClick:r[1]||(r[1]=l=>m("READY TO PICK UP")),flat:"",color:"purple",icon:"mdi-food"}),e(k,{onClick:r[2]||(r[2]=l=>m("DELIVERED")),flat:"",color:"teal",icon:"mdi-package"}),e(k,{onClick:r[3]||(r[3]=l=>m("CANCELED")),flat:"",color:"orange",icon:"mdi-cancel"}),e(K),e(k,{color:"grey",round:"",flat:"",dense:"",icon:d.value?"keyboard_arrow_up":"keyboard_arrow_down",onClick:r[4]||(r[4]=l=>d.value=!d.value)},null,8,["icon"])]),_:1}),e(R,null,{default:t(()=>[S(n("div",null,[e(T,{class:"text-subitle2"},{default:t(()=>[e(U,{bordered:""}),(_(!0),I(D,null,N(o.order.dishes,l=>S((_(),w(E,{key:l.id,class:"q-my-sm",clickable:""},{default:t(()=>[e(v,{avatar:""},{default:t(()=>[e(Q,{color:"primary","text-color":"white"},{default:t(()=>[n("img",{src:l.image},null,8,ne)]),_:2},1024)]),_:2},1024),e(v,null,{default:t(()=>[e(x,null,{default:t(()=>[p(s(l.title),1)]),_:2},1024),e(x,{caption:"",lines:"1"},{default:t(()=>[p("$"+s(l.cost),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[H]])),128))]),_:1})],512),[[A,d.value]])]),_:1})]),_:1})):F("",!0),i.value&&!o.isAdmin?(_(),w(V,{key:1,class:"my-card",flat:"",bordered:""},{default:t(()=>[e(T,null,{default:t(()=>[e(E,null,{default:t(()=>[e(v,{avatar:""},{default:t(()=>[e(Q,{color:"primary","text-color":"white"},{default:t(()=>[n("img",{src:i.value.image},null,8,ie)]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(x,null,{default:t(()=>[p(s(i.value.username),1)]),_:1})]),_:1})]),_:1}),e(O,{inset:""}),n("div",de,s(o.order.date.substring(11,19))+" - "+s(o.order.date.substring(0,10)),1),n("div",ue,s()+" Tiempo estimado: "+s(o.order.stimatedTime)+" minutos ",1),n("div",ce,"Costo total: $"+s(o.order.totalCost),1),n("div",me,s(o.order.comment),1),n("div",fe,s(o.order.state),1)]),_:1}),e(q,null,{default:t(()=>[e(K),e(k,{color:"grey",round:"",flat:"",dense:"",icon:d.value?"keyboard_arrow_up":"keyboard_arrow_down",onClick:r[5]||(r[5]=l=>d.value=!d.value)},null,8,["icon"])]),_:1}),e(R,null,{default:t(()=>[S(n("div",null,[e(T,{class:"text-subitle2"},{default:t(()=>[e(U,{bordered:""}),(_(!0),I(D,null,N(o.order.dishes,l=>S((_(),w(E,{key:l.id,class:"q-my-sm",clickable:""},{default:t(()=>[e(v,{avatar:""},{default:t(()=>[e(Q,{color:"primary","text-color":"white"},{default:t(()=>[n("img",{src:l.image},null,8,ve)]),_:2},1024)]),_:2},1024),e(v,null,{default:t(()=>[e(x,null,{default:t(()=>[p(s(l.title),1)]),_:2},1024),e(x,{caption:"",lines:"1"},{default:t(()=>[p("$"+s(l.cost),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[H]])),128))]),_:1})],512),[[A,d.value]])]),_:1})]),_:1})):F("",!0)]))}};export{ye as _};
